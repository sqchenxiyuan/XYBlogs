# 初探HTTP缓存之谜

前端如何优化页面加载速度是很重要的一个工作，提高资源加载速度便是解决方法之一，如何利用好HTTP缓存，便是重中之中，这边文章将讲述HTTP的缓存解决方案

## 前言

利用浏览器缓存是web优化页面加载速度的一个重要方法，特别是现在前端富应用化越来越严重的情况下，如何高效的利用HTTP缓存是至关重要的，在思考如何构造完善的缓存系统时，了解HTTP缓存的基础是至关重要的

HTTP缓存方式，通过是否在下次请求时需要请求服务器可以分为**强制缓存**和**临时缓存**

## 强制缓存

当资源配置了强制缓存的规则后，如果资源发现本地存在有效缓存，那么将会直接应用该缓存

缓存有效时

![](http://o7yupdhjc.bkt.clouddn.com/18-4-9/32591361.jpg)

缓存无效时

![](http://o7yupdhjc.bkt.clouddn.com/18-4-9/96641016.jpg)

### Exprise

`Expires`的值为服务端返回的该资源的到期时间，即下一次请求时，如果请求时间小于服务端返回的到期时间，将直接使用缓存数据。

但是`Expires`是HTTP 1.0的东西，现在默认浏览器均默认使用HTTP 1.1，所以它的作用基本忽略。

同时到期时间是由服务端生成的，但是客户端时间可能跟服务端时间存在误差，这就会导致错误的缓存命中。
在HTTP 1.1 的版本，使用了`Cache-Control`替代。

### Cache-Control


## 参考资料

[RFC1945 Expires规范](https://tools.ietf.org/html/rfc1945#section-10.7)

[RFC7234 Cache-Control规范](https://tools.ietf.org/html/rfc7234#section-5.2)

[RFC7232](https://tools.ietf.org/html/rfc7232)

[RFC7234](https://tools.ietf.org/html/rfc7234)

## END

>   2017-8-2    立项