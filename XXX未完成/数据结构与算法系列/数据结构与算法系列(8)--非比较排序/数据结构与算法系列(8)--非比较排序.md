# 数据结构与算法系列(8)--非比较排序

前面的排序都是基于比较进行的排序，而基于比较进行排序的效率最快也只是nlogn,而在某些情况下可以不需要比较就进行排序，从而达到一个极好的效率，这里主要介绍计数排序、基数排序、以及桶排序

## 计数排序

计数排序主要针对正整数数组，通过查询数组中的最大值和最小值，来设置存储数据的计数数组的大小，然后遍历将整数`n`对应的`arr[n]`的值加一，最后遍历计数数组，将存储的内容返回

![](http://blog-cdn.chenxiyuan.fun/2019-3-7/d969abf8-333d-46ad-bb9c-e8e6d2d26c4e.png)

``` javascript
function CountSort(arr){
    let min = Infinity
    let max = 0
    let len = arr.length
    for (let i = 0; i < len; i++){
        if (arr[i] < min) min = arr[i]
        if (arr[i] > max) max = arr[i]
    }

    let countarr = new Array(max - min + 1).fill(0)

    for (let i = 0; i < len; i++){
        countarr[arr[i] - min]++
    }

    let p = 0
    for (let i = 0; i <= max - min; i++){
        for (let j = 0; j < countarr[i]; j++){
            arr[p] = i + min
            p++
        }
    }

    return arr
}
```

### 算法属性

|最优时间复杂度|平均时间复杂度|最差时间复杂度|空间复杂度|稳定性|
|---|---|---|---|---|
|Ω(n+k)|Θ(n+k)|O(n+k)|O(k)|稳定性|

这里的k就是待排序数组里面的最大值减去最小值，计数排序在面对最小值和最大值之差的数值远大于原数组数据量的时候，效率反而会很差

## 基数排序

为了解决计数排序的缺陷，通过基数进行排序的算法也就出来了，它类似于计数排序，但是是基于基数来进行的

![](http://blog-cdn.chenxiyuan.fun/2019-3-7/586ab1bb-bc63-4ebc-9c7a-05a75ae5949d.png)

``` javascript
function BaseSort(arr){
    let len = arr.length

    let max = 0
    for (let i = 0; i < len; i++){
        if (arr[i] > max) max = arr[i]
    }

    let x = 1
    while (true){
        let baseArr = new Array(10).fill(0).map(_ => new Array())

        for (let i = 0; i < len; i++){
            let j = parseInt(arr[i] / x) % 10
            baseArr[j].push(arr[i])
        }

        let p = 0
        baseArr.forEach(base => {
            base.forEach(data => {
                arr[p] = data
                p++
            })
        })

        x = x * 10
        if (x > max) break
    }

    return arr
}
```

## END

>   2019-03-06   立项